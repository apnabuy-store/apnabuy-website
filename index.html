<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ApnaBuy | Local Shops, Trusted Products</title>

  <link rel="stylesheet" href="style.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>

<!-- HEADER -->
<header class="header">
  <div class="brand">
    <img src="images/logo.png" alt="ApnaBuy Logo" class="logo">
    <div class="brand-text">
      <span class="brand-name">ApnaBuy</span>
      <span class="tagline">Buy local. Live local.</span>
    </div>
  </div>

  <nav id="mainNav">
    <a href="#how">How it works</a>
    <a href="#shops">Shops</a>
    <a href="#contact">Contact</a>
  </nav>
  <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
</header>

<!-- HERO -->
<section class="hero">
  <h1>Your city‚Äôs trusted local marketplace</h1>
  <p>Discover genuine products from verified shops near you.</p>
</section>
<!-- CITY PRESENCE -->
<section class="city-presence">
  <p>
    üìç Live in <strong>Amravati</strong>  
    <span>‚Ä¢ Coming soon: Nagpur ‚Ä¢ Akola ‚Ä¢ Yavatmal</span>
  </p>
</section>

<!-- PINCODE -->
<section class="pincode-section">
  <h2>Check availability in your area</h2>
  <div class="pincode-box">
    <input id="pincodeInput" type="number" placeholder="Enter your pincode">
    <button onclick="checkPincode()">Check</button>
  </div>
  <p id="pincodeResult"></p>
</section>

<!-- HOW -->
<section class="how" id="how">
  <h2>How ApnaBuy works</h2>
  <div class="steps">
    <div><strong>1</strong><p>Enter your pincode</p></div>
    <div><strong>2</strong><p>Select a trusted shop</p></div>
    <div><strong>3</strong><p>Order via WhatsApp</p></div>
  </div>
</section>
<!-- ACTIVITY FEED -->
<section class="activity">
  <h2>Live Local Activity</h2>
  <div class="activity-box">
    <p id="activityText">üü¢ Loading local activity...</p>
  </div>
</section>

<!-- SHOPS -->
<section class="shops" id="shops" style="display:none;">
  <h2>Shops available in your city</h2>

  <!-- SHOP SEARCH -->
  <input
    type="text"
    id="shopSearch"
    placeholder="üîç Search shops by name or area"
    oninput="filterShops()"
    class="shop-search"
  />

  <div class="shop-grid"></div>
</section>

<!-- PRODUCTS -->
<section class="products" id="products">
  <h2>Products</h2>
  <!-- PINCODE INSTRUCTION -->
<div class="pincode-instruction" id="pincodeInstruction">
  üìç Enter your <strong>pincode</strong> to see nearby shops & buy products
</div>

 <!-- TRENDING PRODUCTS (DEFAULT) -->
<div class="trending-wrapper" id="trendingWrapper">

  <h3 class="trending-title">
    üî• Trending Today
  </h3>

  <p class="trending-subtext">
    Popular products people are checking right now.  
    Enter your pincode to buy from nearby shops.
  </p>

  <div class="product-grid" id="trendingGrid"></div>

</div>


<!-- SHOP PRODUCTS (USED BY EXISTING LOGIC) -->
<div class="product-grid" id="shopProductGrid"></div>
</section>

<!-- REQUEST -->
<section class="request">
  <div class="request-inner">
    <h2>Didn‚Äôt find what you‚Äôre looking for?</h2>
    <p>Tell us the product you need and we‚Äôll check with local shops.</p>
    <a href="https://wa.me/919730572143" target="_blank" class="request-btn">
      Request a Product
    </a>
  </div>
</section>
<!-- WHY -->
<section class="why">
  <h2>Why ApnaBuy?</h2>
  <div class="why-grid">
    <div><h3>Local & Trusted</h3><p>Verified local sellers only.</p></div>
    <div><h3>Fast Delivery</h3><p>Products from nearby shops.</p></div>
    <div><h3>WhatsApp Support</h3><p>Simple ordering, real support.</p></div>
    <div><h3>No Fake Sellers</h3><p>Verified & trusted partners.</p></div>
  </div>
</section>
<!-- ABOUT APNABUY -->
<section class="about">
  <h2>About ApnaBuy</h2>

  <div class="about-content">
    <p>
      <strong>ApnaBuy</strong> was started with a simple belief ‚Äî
      <em>local shop owners deserve the same digital reach as big platforms,
      without losing their identity.</em>
    </p>

    <p>
      Customers often face fake sellers, delayed deliveries, and no real support
      on large marketplaces. At the same time, genuine local shops lose customers
      despite offering better products and faster availability.
    </p>

    <p>
      ApnaBuy bridges this gap by connecting customers directly with
      <strong>real, verified shops in their own city</strong>.
    </p>

    <div class="about-highlights">
      <div>
        <h4>üèô City-First Focus</h4>
        <p>
          ApnaBuy grows one city at a time. Every listed shop is a physical store,
          verified before onboarding.
        </p>
      </div>

      <div>
        <h4>ü§ù Supporting Local Businesses</h4>
        <p>
          Orders are placed directly with shop owners via WhatsApp ‚Äî
          keeping communication transparent and human.
        </p>
      </div>

      <div>
        <h4>üõ° Trust & Accountability</h4>
        <p>
          No fake sellers. No unknown third parties.
          Just trusted local shops you can rely on.
        </p>
      </div>
    </div>

    <p class="about-founder">
      ApnaBuy is independently built and managed by a local team with
      hands-on experience in retail and digital commerce.
    </p>
  </div>
  <!-- FOUNDER BUTTON -->
<button class="founder-toggle-btn" onclick="toggleFounder()">
  üë§ Meet the Founder
</button>

<!-- FOUNDER INFO (HIDDEN BY DEFAULT) -->
<div class="founder-section" id="founderSection">
  <img src="images/founder.jpg" alt="Founder of ApnaBuy" class="founder-photo">
  <p class="founder-name">Kautuk V. Edne</p>


  <h3>Founder, ApnaBuy</h3>

  <p>
    ApnaBuy is built by a local entrepreneur with hands-on experience
    in retail and digital commerce, focused on helping genuine
    neighborhood shops grow digitally without losing trust.
  </p>

  <p class="founder-quote">
    ‚ÄúLocal businesses don‚Äôt need replacement ‚Äî they need visibility.‚Äù
  </p>
</div>
</section>
<!-- CONTACT -->
<section class="contact" id="contact">
  <h2>Contact & Support</h2>
  <p>üìç Amravati, Maharashtra</p>
  <p>‚è∞ 10 AM ‚Äì 9 PM</p>
  <a href="https://wa.me/919730572143" class="cta">Chat on WhatsApp</a>
</section>

<!-- FOOTER -->
<footer class="site-footer">
  <p>¬© 2026 ApnaBuy. Empowering trusted local businesses.</p>
</footer>

<script>
const APNABUY_WHATSAPP = "919730572143";

/* ===== OPEN / CLOSED LOGIC ===== */
function isShopOpen() {
  const hour = new Date().getHours();
  return hour >= 10 && hour < 21;
}
function getPeakStatus() {
  const hour = new Date().getHours();

  if ((hour >= 11 && hour <= 14) || (hour >= 18 && hour <= 21)) {
    return { text: "üî• High demand right now", class: "peak-high" };
  }

  if (hour >= 10 && hour < 22) {
    return { text: "üü¢ Normal activity", class: "peak-normal" };
  }

  return { text: "üåô Low activity right now", class: "peak-low" };
}

/* ===== DATA ===== */
const shopsData = {
  "444601": [
    {
      name: "Shree Mobile Shop",
      owner: "Ramesh Patil",
      sameDay: true,
      address: "Main Road, Amravati",
      timing: "10 AM ‚Äì 9 PM",
      phone: "+91 9730572143",
      rating: 4.6,
      map: "https://www.google.com/maps/search/Shree+Mobile+Shop+Amravati",
      image: "images/shree-mobile-shop.jpg",
      products: [
        { name: "Realme 65W SuperDart Charger", price: "‚Çπ2,499", image: "images/realme65w.jpg",availability: "high" },
        { name: "Type-C Fast Charging Cable", price: "‚Çπ399", image: "images/realme65w.jpg",availability: "high" }
      ]
    },
    {
      name: "Sai Electronics",
      owner: "Amit Sharma",
      sameDay: true,
      address: "Market Area, Amravati",
      timing: "9:30 AM ‚Äì 8:30 PM",
      phone: "+91 9730572143",
      rating: 4.3,
      map: "https://www.google.com/maps/search/Sai+Electronics+Amravati",
      image: "images/sai-electronics.jpg",
      products: [
        { name: "Bluetooth Neckband", price: "‚Çπ1,299", image: "images/realme65w.jpg",availability: "high" }
      ]
    }
  ]
};

/* ===== PINCODE ===== */
function checkPincode() {
  document.getElementById("pincodeInstruction").style.display = "none";
  document.getElementById("trendingWrapper").style.display = "none";
  document.getElementById("shopProductGrid").style.display = "grid";
  const pin = document.getElementById("pincodeInput").value.trim();
  const result = document.getElementById("pincodeResult");
  const shopGrid = document.querySelector(".shop-grid");
  const productGrid = document.getElementById("shopProductGrid");


  shopGrid.innerHTML = "";
  productGrid.innerHTML = "";

  if (!shopsData[pin]) {
    result.textContent = "Sorry, we are not available in your area yet.";
    result.style.color = "red";
    return;
  }

  result.textContent = "Shops available in your area";
  result.style.color = "lightgreen";
  document.getElementById("shops").style.display = "block";

  shopsData[pin].forEach((shop, index) => {
    const open = isShopOpen();
    const peak = getPeakStatus();


    const card = document.createElement("div");
    card.className = "shop-card";
    card.innerHTML = `
  <img src="${shop.image}" class="shop-image">

  <div class="shop-header">
    <h3 class="shop-name">${shop.name}</h3>
    <span class="verified-badge">‚úî Verified</span>
  </div>
 ${shop.sameDay ? `
    <div class="same-day-badge">
      ‚ö° Same-day delivery available
    </div>
  ` : `
    <div class="same-day-badge muted">
      üïí Standard local delivery
    </div>
  `}
  <div class="shop-rating">‚≠ê ${shop.rating} / 5</div>
  <div class="shop-status ${open ? 'open' : 'closed'}">
    ${open ? 'üü¢ Open Now' : 'üî¥ Closed'}
  </div>
<div class="peak-status ${peak.class}">
  ${peak.text}
</div>

  <p>üë§ ${shop.owner}</p>
  <p>üìç ${shop.address}</p>
  <p>‚è∞ ${shop.timing}</p>
  <p>üìû ${shop.phone}</p>

  <a href="${shop.map}" target="_blank" class="map-link">
    üìç View on Map
  </a>

  <p><strong>${shop.products.length}</strong> products available</p>
<button
  class="view-products-btn"
  onclick="showProducts('${pin}', ${index})">
  üõç View Products
</button>
  <a href="shop.html?pin=${pin}&shop=${index}" class="profile-btn">
    View Shop Profile ‚Üí
  </a>
`;
    shopGrid.appendChild(card);
  });

  document.getElementById("shops").scrollIntoView({ behavior: "smooth" });
}
function filterShops() {
  const query = document.getElementById("shopSearch").value.toLowerCase();
  const cards = document.querySelectorAll(".shop-card");

  cards.forEach(card => {
    const text = card.innerText.toLowerCase();
    card.style.display = text.includes(query) ? "block" : "none";
  });
}


/* ===== PRODUCTS ===== */
function showProducts(pin, index) {
  document.getElementById("shopProductGrid").style.display = "grid";
  const grid = document.getElementById("shopProductGrid");

  grid.innerHTML = "";

  const shop = shopsData[pin][index];

  shop.products.forEach(p => {
    const card = document.createElement("div");
    card.className = "product-card";
    card.innerHTML = `
      <img src="${p.image}">
      <h4>${p.name}</h4>
      <strong>${p.price}</strong>
<div class="availability ${p.availability}">
  <span class="label">üì¶ Availability</span>
  <span class="meter">
    ${getAvailabilityDots(p.availability)}
  </span>
  <span class="text">
    ${getAvailabilityText(p.availability)}
  </span>
</div>

      <div class="quantity-box">
        <button onclick="changeQty(this,-1)">‚àí</button>
        <span class="qty-value">1</span>
        <button onclick="changeQty(this,1)">+</button>
      </div>

      <button class="buy-btn" onclick="openBuyerForm('${p.name}','${p.price}','${shop.name}','${pin}',this)">
        Buy on WhatsApp
      </button>
    `;
    grid.appendChild(card);
  });

  document.getElementById("products").scrollIntoView({ behavior: "smooth" });
}
function getAvailabilityDots(level) {
  if (level === "high") return "‚óè ‚óè ‚óè ‚óè ‚óã";
  if (level === "medium") return "‚óè ‚óè ‚óè ‚óã ‚óã";
  return "‚óè ‚óè ‚óã ‚óã ‚óã";
}

function getAvailabilityText(level) {
  if (level === "high") return "High (Usually in stock)";
  if (level === "medium") return "Medium (Stock may vary)";
  return "Limited (Ask before ordering)";
}

function changeQty(btn, delta) {
  const span = btn.parentElement.querySelector(".qty-value");
  span.textContent = Math.max(1, parseInt(span.textContent) + delta);
}

function buyProduct(name, price, shop, pin, btn) {
  const qty = btn.parentElement.querySelector(".qty-value").textContent;
  const msg = `Product: ${name}\nQty: ${qty}\nPrice: ${price}\nShop: ${shop}\nPincode: ${pin}`;
  window.open(`https://wa.me/${APNABUY_WHATSAPP}?text=${encodeURIComponent(msg)}`);
}

function toggleMenu() {
  document.getElementById("mainNav").classList.toggle("show");
}
</script>
  
  <script>
  // Always load page from top
  window.onload = function () {
    if (window.location.hash) {
      window.scrollTo(0, 0);
    }
  };
    /* ================= ACTIVITY FEED ================= */

const activityMessages = [
  "üü¢ Shree Mobile Shop sold a Realme 65W Charger",
  "üìç Order placed from Rajapeth, Amravati",
  "üü¢ Sai Electronics updated stock today",
  "üõçÔ∏è Customer ordered Bluetooth Neckband",
  "üì¶ Local delivery in progress in Amravati",
  "üü¢ Shop verified by ApnaBuy team"
];

let activityIndex = 0;
const activityText = document.getElementById("activityText");

setInterval(() => {
  if (!activityText) return;

  activityText.style.opacity = 0;

  setTimeout(() => {
    activityText.textContent = activityMessages[activityIndex];
    activityText.style.opacity = 1;
    activityIndex = (activityIndex + 1) % activityMessages.length;
  }, 400);

}, 3500);

  
  function toggleFounder() {
  const section = document.getElementById("founderSection");
  section.style.display =
    section.style.display === "block" ? "none" : "block";
}  
/* ================= TRENDING PRODUCTS ================= */

const trendingProducts = [
  {
    name: "Bluetooth Neckband",
    price: "‚Çπ1,299",
    image: "images/trending-neckband.jpg"
  },
  {
    name: "JBL Bluetooth Speaker",
    price: "‚Çπ2,499",
    image: "images/trending-speaker.jpg"
  },
  {
    name: "10,000mAh Power Bank",
    price: "‚Çπ1,499",
    image: "images/trending-powerbank.jpg"
  },
  {
    name: "Type-C Data Cable",
    price: "‚Çπ399",
    image: "images/trending-cable.jpg"
  }
];
    let trendingIndex = 0;

function renderTrendingProducts() {
  const grid = document.getElementById("trendingGrid");
  if (!grid) return;

  grid.innerHTML = "";

  // Show 2 products at a time
  for (let i = 0; i < 2; i++) {
    const product =
      trendingProducts[(trendingIndex + i) % trendingProducts.length];

    grid.innerHTML += `
      <div class="product-card trending-card">
        <img src="${product.image}">
        <h4>${product.name}</h4>
        <strong>${product.price}</strong>
      </div>
    `;
  }

  trendingIndex = (trendingIndex + 1) % trendingProducts.length;
}

// Auto rotate every 4 seconds
setInterval(renderTrendingProducts, 4000);

// Initial load
renderTrendingProducts();

   console.log("Trending script loaded");

document.addEventListener("DOMContentLoaded", function () {
  console.log("DOM ready ‚Äì rendering trending");
  renderTrendingProducts();
});
 /* ===== BUYER DETAILS FLOW ===== */

let pendingBuyData = null;

function openBuyerForm(name, price, shop, pin, btn) {
  const qty = btn.parentElement.querySelector(".qty-value").textContent;

  pendingBuyData = { name, price, shop, pin, qty };

  document.getElementById("buyerModal").style.display = "flex";
}

function closeBuyerForm() {
  document.getElementById("buyerModal").style.display = "none";
  pendingBuyData = null;
}

function submitBuyerDetails() {
  const name = document.getElementById("buyerName").value.trim();
  const phone = document.getElementById("buyerPhone").value.trim();
  const email = document.getElementById("buyerEmail").value.trim();

  if (!name || !phone) {
    alert("Please enter your name and mobile number");
    return;
  }

  const d = pendingBuyData;

  const msg =
`Customer Name: ${name}
Mobile: ${phone}
Email: ${email || "N/A"}

Product: ${d.name}
Qty: ${d.qty}
Price: ${d.price}
Shop: ${d.shop}
Pincode: ${d.pin}`;

  window.open(
    `https://wa.me/${APNABUY_WHATSAPP}?text=${encodeURIComponent(msg)}`
  );

  closeBuyerForm();
}
</script>
<!-- BUYER DETAILS POPUP -->
<div id="buyerModal" style="
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.65);
  z-index:9999;
  align-items:center;
  justify-content:center;
">
  <div style="
    background:#0e1224;
    padding:26px;
    border-radius:18px;
    max-width:360px;
    width:90%;
    text-align:center;
  ">
    <h3>Enter your details</h3>

    <input id="buyerName" placeholder="Your Name"
      style="width:100%;padding:12px;margin:10px 0;">

    <input id="buyerPhone" placeholder="Mobile Number"
      style="width:100%;padding:12px;margin-bottom:10px;">

    <input id="buyerEmail" placeholder="Email (optional)"
      style="width:100%;padding:12px;margin-bottom:16px;">

    <button class="buy-btn" style="width:100%;"
      onclick="submitBuyerDetails()">
      Continue to WhatsApp
    </button>

    <p onclick="closeBuyerForm()"
       style="margin-top:10px;font-size:12px;cursor:pointer;">
      Cancel
    </p>
  </div>
</div>

  

</body>
</html>
