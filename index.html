<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ApnaBuy | Local Shops, Trusted Products</title>

  <link rel="stylesheet" href="style.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>

<!-- HEADER -->
<header class="header">
  <div class="brand">
    <img src="images/logo.png" alt="ApnaBuy Logo" class="logo">
    <div class="brand-text">
      <span class="brand-name">ApnaBuy</span>
      <span class="tagline">Buy local. Live local.</span>
    </div>
  </div>

  <nav id="mainNav">
    <a href="#how">How it works</a>
    <a href="#shops">Shops</a>
    <a href="#contact">Contact</a>
  </nav>
  <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
</header>

<!-- HERO -->
<section class="hero">
  <h1>Your city‚Äôs trusted local marketplace</h1>
  <p>Discover genuine products from verified shops near you.</p>
</section>

<!-- CITY PRESENCE -->
<section class="city-presence">
  <p>
    üìç Live in <strong>Amravati</strong>
    <span>‚Ä¢ Coming soon: Nagpur ‚Ä¢ Akola ‚Ä¢ Yavatmal</span>
  </p>
</section>

<!-- PINCODE -->
<section class="pincode-section">
  <h2>Check availability in your area</h2>
  <div class="pincode-box">
    <input id="pincodeInput" type="number" placeholder="Enter your pincode">
    <button onclick="checkPincode()">Check</button>
  </div>
  <p id="pincodeResult"></p>
</section>

<!-- HOW -->
<section class="how" id="how">
  <h2>How ApnaBuy works</h2>
  <div class="steps">
    <div><strong>1</strong><p>Enter your pincode</p></div>
    <div><strong>2</strong><p>Select a trusted shop</p></div>
    <div><strong>3</strong><p>Order via WhatsApp</p></div>
  </div>
</section>

<!-- ACTIVITY FEED -->
<section class="activity">
  <h2>Live Local Activity</h2>
  <div class="activity-box">
    <p id="activityText">üü¢ Loading local activity...</p>
  </div>
</section>

<!-- SHOPS -->
<section class="shops" id="shops" style="display:none;">
  <h2>Shops available in your city</h2>

  <input
    type="text"
    id="shopSearch"
    placeholder="üîç Search shops by name or area"
    oninput="filterShops()"
    class="shop-search"
  />

  <div class="shop-grid"></div>
</section>

<!-- üî• TRENDING PRODUCTS (VISIBLE BEFORE PINCODE) -->
<section class="products trending-section" id="trendingSection">
  <h2>üî• Trending in Your City</h2>
  <div class="product-grid" id="trendingGrid"></div>
</section>

<!-- PRODUCTS (SHOP PRODUCTS ONLY) -->
<section class="products" id="products">
  <h2>Products</h2>
  <div class="product-grid"></div>
</section>

<!-- REQUEST -->
<section class="request">
  <div class="request-inner">
    <h2>Didn‚Äôt find what you‚Äôre looking for?</h2>
    <p>Tell us the product you need and we‚Äôll check with local shops.</p>
    <a href="https://wa.me/919730572143" target="_blank" class="request-btn">
      Request a Product
    </a>
  </div>
</section>

<!-- CONTACT -->
<section class="contact" id="contact">
  <h2>Contact & Support</h2>
  <p>üìç Amravati, Maharashtra</p>
  <p>‚è∞ 10 AM ‚Äì 9 PM</p>
  <a href="https://wa.me/919730572143" class="cta">Chat on WhatsApp</a>
</section>

<!-- FOOTER -->
<footer class="site-footer">
  <p>¬© 2026 ApnaBuy. Empowering trusted local businesses.</p>
</footer>

<script>
const APNABUY_WHATSAPP = "919730572143";

/* ===== DATA ===== */
const shopsData = {
  "444601": [
    {
      name: "Shree Mobile Shop",
      owner: "Ramesh Patil",
      address: "Main Road, Amravati",
      timing: "10 AM ‚Äì 9 PM",
      phone: "+91 9730572143",
      rating: 4.6,
      map: "https://www.google.com/maps/search/Shree+Mobile+Shop+Amravati",
      image: "images/shree-mobile-shop.jpg",
      products: [
        { name: "Realme 65W SuperDart Charger", price: "‚Çπ2,499", image: "images/realme65w.jpg" },
        { name: "Type-C Fast Charging Cable", price: "‚Çπ399", image: "images/realme65w.jpg" }
      ]
    }
  ]
};

/* ===== PINCODE ===== */
function checkPincode() {
  const pin = document.getElementById("pincodeInput").value.trim();
  const result = document.getElementById("pincodeResult");
  const shopGrid = document.querySelector(".shop-grid");
  const productGrid = document.querySelector("#products .product-grid");

  shopGrid.innerHTML = "";
  productGrid.innerHTML = "";

  if (!shopsData[pin]) {
    result.textContent = "Sorry, we are not available in your area yet.";
    result.style.color = "red";
    return;
  }

  result.textContent = "Shops available in your area";
  result.style.color = "lightgreen";

  document.getElementById("shops").style.display = "block";
  document.getElementById("trendingSection").style.display = "none";

  shopsData[pin].forEach((shop, index) => {
    const card = document.createElement("div");
    card.className = "shop-card";
    card.innerHTML = `
      <img src="${shop.image}" class="shop-image">
      <h3>${shop.name}</h3>
      <p>${shop.products.length} products available</p>
    `;
    card.onclick = () => showProducts(pin, index);
    shopGrid.appendChild(card);
  });
}

/* ===== PRODUCTS ===== */
function showProducts(pin, index) {
  const grid = document.querySelector("#products .product-grid");
  grid.innerHTML = "";

  const shop = shopsData[pin][index];

  shop.products.forEach(p => {
    grid.innerHTML += `
      <div class="product-card">
        <img src="${p.image}">
        <h4>${p.name}</h4>
        <strong>${p.price}</strong>
        <button class="buy-btn"
          onclick="buyProduct('${p.name}','${p.price}','${shop.name}','${pin}')">
          Buy on WhatsApp
        </button>
      </div>
    `;
  });

  document.getElementById("products").scrollIntoView({ behavior: "smooth" });
}

function buyProduct(name, price, shop, pin) {
  const msg = `Product: ${name}\nPrice: ${price}\nShop: ${shop}\nPincode: ${pin}`;
  window.open(`https://wa.me/${APNABUY_WHATSAPP}?text=${encodeURIComponent(msg)}`);
}

/* ===== TRENDING PRODUCTS ===== */
const trendingProducts = [
  { name: "Bluetooth Neckband", price: "‚Çπ1,299", image: "images/trending-neckband.jpg" },
  { name: "Power Bank 10,000mAh", price: "‚Çπ1,499", image: "images/trending-powerbank.jpg" },
  { name: "Type-C Cable", price: "‚Çπ399", image: "images/trending-cable.jpg" },
  { name: "Bluetooth Speaker", price: "‚Çπ2,499", image: "images/trending-speaker.jpg" }
];

let trendingIndex = 0;
function renderTrendingProducts() {
  const grid = document.getElementById("trendingGrid");
  grid.innerHTML = "";

  for (let i = 0; i < 2; i++) {
    const p = trendingProducts[(trendingIndex + i) % trendingProducts.length];
    grid.innerHTML += `
      <div class="product-card">
        <img src="${p.image}">
        <h4>${p.name}</h4>
        <strong>${p.price}</strong>
      </div>
    `;
  }

  trendingIndex = (trendingIndex + 1) % trendingProducts.length;
}
setInterval(renderTrendingProducts, 4000);
renderTrendingProducts();

function toggleMenu() {
  document.getElementById("mainNav").classList.toggle("show");
}
</script>

</body>
</html>
