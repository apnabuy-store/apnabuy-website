<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ApnaBuy | Buy from trusted local stores near you</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>

<header class="header">
  <div class="brand">
    <h1 class="logo">ApnaBuy</h1>
    <span class="tagline">Buy from trusted local stores near you</span>
  </div>
  <nav>
    <a href="#how">How it works</a>
    <a href="#contact">Contact</a>
  </nav>
</header>

<section class="hero">
  <h2>Your city‚Äôs trusted local marketplace</h2>
  <p>Discover genuine products from verified shops near you.</p>
</section>

<section class="pincode">
  <h3>Check availability in your area</h3>
  <div class="pincode-box">
    <input id="pincodeInput" type="number" placeholder="Enter pincode">
    <button onclick="checkPincode()">Check</button>
  </div>
  <p id="pincodeResult"></p>
</section>

<section id="shops" class="section" style="display:none;">
  <h3>Available shops</h3>
  <div id="shopGrid" class="grid"></div>
</section>

<section id="products" class="section" style="display:none;">
  <h3 id="productTitle"></h3>
  <div id="productGrid" class="grid"></div>
</section>

<section id="productDetail" class="section" style="display:none;"></section>

<section id="how" class="how">
  <h3>How ApnaBuy works</h3>
  <div class="steps">
    <div>1Ô∏è‚É£ Enter pincode</div>
    <div>2Ô∏è‚É£ Choose local shop</div>
    <div>3Ô∏è‚É£ Order via WhatsApp</div>
  </div>
</section>

<section id="contact" class="contact">
  <h3>Contact & Support</h3>
  <p>üìç Amravati, Maharashtra</p>
  <a href="https://wa.me/919730572143" class="cta">Chat on WhatsApp</a>
</section>

<footer>¬© ApnaBuy ‚Äî Supporting Local Businesses</footer>

<script>
const APNABUY_WHATSAPP = "919730572143";

const data = {
  "444601": [
    {
      name: "Shree Mobile Shop",
      products: [
        { name: "Realme 65W SuperDart Charger", price: "‚Çπ2,499" },
        { name: "Type-C Fast Charging Cable", price: "‚Çπ399" }
      ]
    },
    {
      name: "Sai Electronics",
      products: [
        { name: "Bluetooth Neckband", price: "‚Çπ1,299" }
      ]
    }
  ]
};

function checkPincode() {
  const pin = pincodeInput.value.trim();
  const result = document.getElementById("pincodeResult");
  const shopGrid = document.getElementById("shopGrid");
  shopGrid.innerHTML = "";

  if (!data[pin]) {
    result.textContent = "Service not available in your area yet.";
    return;
  }

  result.textContent = "Great! Shops found in your area.";
  document.getElementById("shops").style.display = "block";

  data[pin].forEach((shop, i) => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `<h4>${shop.name}</h4><p>${shop.products.length} products</p>`;
    card.onclick = () => showProducts(pin, i);
    shopGrid.appendChild(card);
  });
}

function showProducts(pin, index) {
  const shop = data[pin][index];
  const grid = document.getElementById("productGrid");
  grid.innerHTML = "";
  document.getElementById("products").style.display = "block";
  document.getElementById("productTitle").innerText = shop.name;

  shop.products.forEach(p => {
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `<h4>${p.name}</h4><p>${p.price}</p>`;
    card.onclick = () => showDetail(p, shop.name, pin);
    grid.appendChild(card);
  });
}

function showDetail(product, shop, pin) {
  document.getElementById("productDetail").style.display = "block";
  document.getElementById("productDetail").innerHTML = `
    <h3>${product.name}</h3>
    <p>${product.price}</p>
    <p>Sold by ${shop}</p>
    <a class="cta"
      href="https://wa.me/${APNABUY_WHATSAPP}?text=I want to order ${product.name} from ${shop}, pincode ${pin}">
      Order on WhatsApp
    </a>
  `;
}
</script>

</body>
</html>
